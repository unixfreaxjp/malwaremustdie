#Linux Remnux OS Tips which our team members uses.

= Introduction =

We will be updating this page with all the related tips that our team members uses during our Malware analysis.

= Details =

* Checks your distro we are covering the below version tips only..
{{{
Linux remnux 3.0.0-12-generic #20-Ubuntu SMP Fri Oct 7 14:50:42 UTC 2011 i686 i686 i386 GNU/Linux
Mon Apr 23 09:24:54 EDT 2012
}}}
Link: [http://blog.zeltser.com/post/14279834957/remnux-v3-released REMnux - Malware Analysis Linux Distro]

* Starts sshd
{{{
sudo ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key -N ''
sudo ssh-keygen -t dsa -f /etc/ssh/ssh_host_dsa_key -N ''
sshd start
}}}

* If you want to make hdd workspace...
{{{
mkdir /media/hdd
mount /dev/sd*** /media/hdd/
ln -s /media/hdd/home/YOURUSRNAME/ /home/YOURUSRNAME
}}}

* Setting timezone
{{{
// note: (1) use sudo (2) i.e. location: Japan.
echo "Asia/Tokyo" | sudo tee /etc/timezone
sudo dpkg-reconfigure --frontend noninteractive tzdata
 OR
ntpdate ntp.ubuntu.com
sudo dpkg-reconfigure --frontend noninteractive tzdata
}}}

* You want to install your stuffs so update the repo...
{{{
sudo add-apt-repository ppa:webupd8team/unstable && sudo apt-get update
apt-get install nmap lynx mc etc etc etc...
}}}

= Specific Tools Need Updates w/ #Remnux =

* pyew
{{{
//using tgz packages (not recommended)
wget http://pyew.googlecode.com/files/pyew-2.0-linux-x86.tar.gz // adjust the recent ver..
tar -xzvf pyew-2.0-linux-x86.tar.gz
mv pyew-2.0-linux/ /usr/local/pyew

//using mercurial (recommended)
apt-get install mercurial
hg clone https://code.google.com/p/pyew/
cd pyew (mv these dir to the /usr/local/pyew)
}}}

* pycrypto
{{{
apt-get install subversion pcregrep libpcre++-dev python-dev -y 
wget http://gitweb.pycrypto.org/\?p=crypto/pycrypto-2.0.x.git\;a=snapshot\;h=9e9641d0a9b88f09683b5f26d3b99c4a2e148da5\;sf=tgz -O pycrypto.tgz
tar -xzvf pycrypto.tgz
cd pycrypto-2.0.x-xxxx/
python setup.py build
python setup.py build install
}}}

* distorm3
{{{
wget http://distorm.googlecode.com/files/distorm3-1.0.zip
unzip distorm3-1.0.zip
cd distorm3-1.0/
python setup.py build
python setup.py build install

wget http://pyew.googlecode.com/files/distorm64-pkg1.7.30.zip
unzip ./distorm64-pkg1.7.30.zip
cd distorm64/
cd build/linux/
make
make py
make clib
bash ./instpython.sh
cd ../../linuxproj/
make 
make install
}}}

* Yara and Yara-Python
{{{
wget http://yara-project.googlecode.com/files/yara-python-1.4a.tar.gz //adjust recent version
tar -xvzf yara-python-1.4a.tar.gz
cd yara-python-1.4a
python setup.py build
python setup.py build install
}}}

* Volatility (use svn)
{{{
//go to your work directory...
apt-get purge volatility
svn checkout http://volatility.googlecode.com/svn/trunk Volatility
//check latest..
cd Volatility
python ./setup.py --version
//cont' w/malware plugin
cd Volatility/volatility/plugins
wget http://malwarecookbook.googlecode.com/svn/trunk/malware.py
cd ../../
python ./setup.py build
python ./setup.py install
//check...
ls -alkF `which vol`
vol -h
Volatile Systems Volatility Framework 2.1_alpha
}}}

* peedpdf
{{{
//go to work dir...
# peepdf -u
[-] Getting repository files information from "http://code.google.com/p/peepdf/source/browse/trunk/"...
[-] Getting repository files information from "http://code.google.com/p/peepdf/source/browse/trunk/colorama/"..
}}}

* ClamAV
{{{
sudo freshclam
clamcsan [file]
}}}

* ald http://ald.sourceforge.net
{{{
wget http://downloads.sourceforge.net/project/ald/ald/ald-0.1.7/ald-0.1.7.tar.gz
tar -zxvf ald-0.1.7.tar.gz
apt-get install apt-file
apt-file search readline/readline.h
apt-get install libreadline6-dev
make
make check
make install
}}}

* radare / radare2
{{{
sudo apt-get install radare  // use radare ONLY not together w/r2
Reading package lists... Done
Building dependency tree
Reading state information... Done
radare is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 125 not upgraded.

~# radare -V
radare 1.5.2 64bit on le32bit i686-unknown-linux-gnu dbg

# radare2 -v
radare2 0.8.1 @ linux-little-x86
  
apt-get autoremove radare
apt-get autoremove radare2
apt-get autoremove radare-common
apt-get autoremove radare-gtk

wget http://radare.org/get/radare2-0.9.tar.gz
tar -xzvf ./radare2-0.9.tar.gz
./configure
make
make install
}}}

* preparing pylibemu template
{{{
import pylibemu
 
shellcode  = b"\x41\x41\x41
shellcode += b"\x80\x30\x28
shellcode += b"\x1B\xE8\x4C
shellcode += b"\xA3\x76\x14
    :
shellcode += b"\x5C\x07\x5F
shellcode += b"\x28\x28"
 
emulator = pylibemu.Emulator()
offset = emulator.shellcode_getpc_test(shellcode)
offset
 
emulator.prepare(shellcode, offset)
emulator.test()
print emulator.emu_profile_output
}}}

#(Other stuffs will be added, stay tune!)